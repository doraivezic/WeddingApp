{"ast":null,"code":"import React,{useContext}from'react';import{BrowserRouter as Router,Route,Routes,Navigate,useNavigate}from'react-router-dom';import Home from'./components/Home';import GuestDetails from'./components/GuestDetails';import Admin from'./components/Admin';import{LanguageProvider,LanguageContext}from'./contexts/LanguageContext';import{AuthProvider,AuthContext}from'./contexts/AuthContext';import'./global.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LanguageToggleButton=()=>{const{language,toggleLanguage}=useContext(LanguageContext);return/*#__PURE__*/_jsx(\"button\",{onClick:toggleLanguage,className:\"language-toggle\",children:language==='en'?'EN':'HR'});};const LogoutButton=()=>{const{logout}=useContext(AuthContext);const navigate=useNavigate();const handleLogout=()=>{logout();navigate('/');window.scrollTo(0,0);};return/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"});};const ProtectedRoute=_ref=>{let{role,component:Component}=_ref;const{userRole}=useContext(AuthContext);if(userRole===role){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LogoutButton,{}),/*#__PURE__*/_jsx(Component,{})]});}return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});};function App(){return/*#__PURE__*/_jsx(LanguageProvider,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(LanguageToggleButton,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/guest-details\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"guest\",component:GuestDetails})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"admin\",component:Admin})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})]})})})});}export default App;","map":{"version":3,"names":["React","useContext","BrowserRouter","Router","Route","Routes","Navigate","useNavigate","Home","GuestDetails","Admin","LanguageProvider","LanguageContext","AuthProvider","AuthContext","jsx","_jsx","jsxs","_jsxs","LanguageToggleButton","language","toggleLanguage","onClick","className","children","LogoutButton","logout","navigate","handleLogout","window","scrollTo","ProtectedRoute","_ref","role","component","Component","userRole","to","App","path","element"],"sources":["C:/Users/DoraIvezic/Documents/WeddingApp/frontend_wedding/src/App.js"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes, Navigate, useNavigate } from 'react-router-dom';\r\nimport Home from './components/Home';\r\nimport GuestDetails from './components/GuestDetails';\r\nimport Admin from './components/Admin';\r\nimport { LanguageProvider, LanguageContext } from './contexts/LanguageContext';\r\nimport { AuthProvider, AuthContext } from './contexts/AuthContext';\r\nimport './global.css';\r\n\r\nconst LanguageToggleButton = () => {\r\n  const { language, toggleLanguage } = useContext(LanguageContext);\r\n  return (\r\n    <button onClick={toggleLanguage} className=\"language-toggle\">\r\n      {language === 'en' ? 'EN' : 'HR'}\r\n    </button>\r\n  );\r\n};\r\n\r\nconst LogoutButton = () => {\r\n  const { logout } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/');\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  return (\r\n    <button onClick={handleLogout} className=\"logout-button\">\r\n      Logout\r\n    </button>\r\n  );\r\n};\r\n\r\nconst ProtectedRoute = ({ role, component: Component }) => {\r\n  const { userRole } = useContext(AuthContext);\r\n\r\n  if (userRole === role) {\r\n    return (\r\n      <div>\r\n        <LogoutButton />\r\n        <Component />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Navigate to=\"/\" />;\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <LanguageProvider>\r\n      <AuthProvider>\r\n        <Router>\r\n          <div className=\"container\">\r\n            <LanguageToggleButton />\r\n            <Routes>\r\n              <Route path=\"/\" element={<Home />} />\r\n              <Route path=\"/guest-details\" element={<ProtectedRoute role=\"guest\" component={GuestDetails} />} />\r\n              <Route path=\"/admin\" element={<ProtectedRoute role=\"admin\" component={Admin} />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n            </Routes>\r\n          </div>\r\n        </Router>\r\n      </AuthProvider>\r\n    </LanguageProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}